@php
$categories = [
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="18" r="4" /><path d="M12 18V2l7 4" /></svg>',
        'description' => 'Découvrez de la musique et des artistes'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="6" x2="10" y1="12" y2="12" /><line x1="8" x2="8" y1="10" y2="14" /><line x1="15" x2="15.01" y1="13" y2="13" /><line x1="18" x2="18.01" y1="11" y2="11" /><rect width="20" height="12" x="2" y="6" rx="2" /></svg>',
        'description' => 'Explorez le monde du jeu'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" /></svg>',
        'description' => 'Découvrez les meilleurs endroits pour la vie nocturne'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8" /><path d="M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1" /><path d="M2 21h20" /><path d="M7 8v3" /><path d="M12 8v3" /><path d="M17 8v3" /><path d="M7 4h0.01" /><path d="M12 4h0.01" /><path d="M17 4h0.01" /></svg>',
        'description' => 'Trouvez les meilleures fêtes en ville'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z" /><path d="M3 6h18" /><path d="M16 10a4 4 0 0 1-8 0" /></svg>',
        'description' => 'Trouvez les meilleures offres'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" /><rect width="20" height="14" x="2" y="6" rx="2" /></svg>',
        'description' => 'Découvrez des opportunités professionnelles'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z" /><path d="M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7" /><path d="M14.5 17.5 4.5 15" /></svg>',
        'description' => 'Explorez le monde de l\'art'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" /></svg>',
        'description' => 'Apprenez de nouvelles compétences'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-3" /></svg>',
        'description' => 'Planifiez votre prochaine aventure'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z" /><path d="M3 6h18" /><path d="M16 10a4 4 0 0 1-8 0" /></svg>',
        'description' => 'Restez actif et en bonne santé'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" /><rect width="20" height="14" x="2" y="6" rx="2" /></svg>',
        'description' => 'Gérez vos finances'
    ],
    [
        'icon' => '<svg class="category-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8" /><path d="M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1" /><path d="M2 21h20" /><path d="M7 8v3" /><path d="M12 8v3" /><path d="M17 8v3" /><path d="M7 4h0.01" /><path d="M12 4h0.01" /><path d="M17 4h0.01" /></svg>',
        'description' => 'Trouvez les meilleures offres'
    ],
];
function truncateText($text, $maxLength) {
    
    if (strlen($text) > $maxLength) {
        
        return substr($text, 0, $maxLength) . '...';
    }
    
    return $text;
}
@endphp

<style>
  .category-icon {
    width: 2rem;
    height: 2rem;
    font-weight:bold;
    font-size:30px;
    color:orange;
  }
  .category-background {
    background-color: rgb(231, 224, 224);
    position: relative;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
  }
  .category-background:hover ~ .category-icon {
    color:#fff !important;
  }
  .category-background:hover {
    background-color: #e69f00;
  }
  .category-description {
    text-align: center;
    font-size: 0.875rem;
    font-weight: 500;
    color: #6c757d;
    transition: color 0.3s ease;
    margin-top: 0.5rem;
  }
  .category-background:hover ~ .category-description {
    color: #ffa600;
  }
  .mobile{
    display:none;
  }
  @media(max-width:768px){
    .category-background {
    background-color: rgb(231, 224, 224);
    position: relative;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
  }
  .mobile{
   display:block;
  }
  .media{
    display:none;
  }
  }
</style>

<section class="services-section py-5">
  <div class="px-2">
    <div class="row d-flex justify-content-center align-items-center mb-2">
      <h3 class="text-center title-color underline-green">Catégories d'événements</h3>
    </div>
    
    <div class="row row-cols-4 row-cols-md-6 g-4">
      @foreach($categories as $category)
        <div class="col d-flex flex-column align-items-center">
          <div class="category-background">
            {!! $category['icon'] !!}
          </div>
          <div class="category-description media">
           {!! truncateText($category['description'],40)!!}
          </div>
          <div class="category-description mobile">
            {!! truncateText($category['description'],20)!!}
           </div>
        </div>
      @endforeach
    </div>
  </div>
</section>
